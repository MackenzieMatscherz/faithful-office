<!DOCTYPE html>

<html>
	<head>
    	<title>Frames Test</title>
    	<meta name="viewport" content="initial-scale=1.0">
    	<meta charset="utf-8">
    </head>
    <body>
    	<div id = "body">
		</div>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    	<script>
			$.get("/pull_data",longitude=2, latitude=5).done(function(imageArray){
				
				var object = imageArray[0];
				console.log(object);
				//var object = {"title":"untitled", "artist":"unknown", "uploader":"none"};
				var frame = document.createElement("div");
				var picture = document.createElement("img");

				var text = document.createElement("div");

				var titleDiv = document.createElement("div");
				var titleLabel = document.createElement("label");
				var title = document.createElement("p");

				var artistDiv = document.createElement("div");
				var artistLabel = document.createElement("label");
				var artist = document.createElement("p");

				var uploaderDiv = document.createElement("div");
				var uploaderLabel = document.createElement("label");
				var uploader = document.createElement("p");

				frame.appendChild(picture);
				frame.appendChild(text);

				text.appendChild(titleDiv);
				text.appendChild(artistDiv);
				text.appendChild(uploaderDiv);

				titleDiv.appendChild(titleLabel);
				titleDiv.appendChild(title);

				artistDiv.appendChild(artistLabel);
				artistDiv.appendChild(artist);

				uploaderDiv.appendChild(uploaderLabel);
				uploaderDiv.appendChild(uploader);

				document.body.appendChild(frame);

				frame.classList.add("frame");
				picture.classList.add("picture");
				text.classList.add("textbox");
				titleDiv.classList.add("field");
				artistDiv.classList.add("field");
				uploaderDiv.classList.add("field");

				titleLabel.textContent = "Title";
				uploaderLabel.textContent = "Uploader";
				artistLabel.textContent = "Artist";

				title.textContent = object.title;
				artist.textContent = object.artist;
				uploader.textContent = object.uploader;
				picture.src = "data:" + object.picture.contentType + ";base64, " + object.picture.data;
				picture.alt = "Alt";
			});
    	</script>
    </body>
</html>